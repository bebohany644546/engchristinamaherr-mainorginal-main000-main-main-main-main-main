<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مشغل فيديوهات القناة المخصص</title>
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* شاشة إدخال كلمة المرور */
        .password-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }

        .password-container {
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            padding: 40px;
            border-radius: 20px;
            border: 2px solid #D4AF37;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .password-container h2 {
            color: #D4AF37;
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .password-container p {
            color: #a0aec0;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #4a5568;
            border-radius: 10px;
            background: #2d3748;
            color: #ffffff;
            font-size: 16px;
            margin-bottom: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .password-input:focus {
            outline: none;
            border-color: #D4AF37;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .password-submit {
            background: linear-gradient(135deg, #D4AF37, #FFD700);
            color: #1a202c;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .password-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
        }

        .password-error {
            color: #e53e3e;
            margin-top: 15px;
            font-size: 14px;
            display: none;
        }

        .protected-video-icon {
            font-size: 3rem;
            color: #D4AF37;
            margin-bottom: 20px;
        }

        /* إخفاء قوي لجميع عناصر يوتيوب غير المرغوبة */
        iframe[src*="youtube"] .ytp-chrome-top,
        iframe[src*="youtube"] .ytp-chrome-bottom,
        iframe[src*="youtube"] .ytp-title,
        iframe[src*="youtube"] .ytp-title-text,
        iframe[src*="youtube"] .ytp-title-link,
        iframe[src*="youtube"] .ytp-title-channel,
        iframe[src*="youtube"] .ytp-copylink-button,
        iframe[src*="youtube"] .ytp-share-button,
        iframe[src*="youtube"] .ytp-watch-later-button,
        iframe[src*="youtube"] .ytp-chrome-top-buttons,
        iframe[src*="youtube"] .ytp-watermark,
        iframe[src*="youtube"] .ytp-youtube-button,
        iframe[src*="youtube"] .ytp-cards-button,
        iframe[src*="youtube"] .ytp-show-cards-title,
        iframe[src*="youtube"] .ytp-gradient-top,
        iframe[src*="youtube"] .ytp-gradient-bottom,
        iframe[src*="youtube"] .ytp-chrome-controls,
        iframe[src*="youtube"] .ytp-control-bar,
        iframe[src*="youtube"] .ytp-progress-bar-container,
        iframe[src*="youtube"] .ytp-right-controls,
        iframe[src*="youtube"] .ytp-left-controls,
        iframe[src*="youtube"] .ytp-settings-button,
        iframe[src*="youtube"] .ytp-fullscreen-button,
        iframe[src*="youtube"] .ytp-miniplayer-button,
        iframe[src*="youtube"] .ytp-size-button,
        iframe[src*="youtube"] .ytp-subtitles-button,
        iframe[src*="youtube"] .ytp-volume-area,
        iframe[src*="youtube"] .ytp-time-display,
        iframe[src*="youtube"] button,
        iframe[src*="youtube"] [role="button"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            position: absolute !important;
            left: -99999px !important;
            top: -99999px !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
            z-index: -1 !important;
        }

        body {
            font-family: 'Segoe UI', 'Tajawal', Arial, sans-serif;
            background: linear-gradient(135deg, #0a0e1a 0%, #1a1f2e 50%, #2d3748 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(212, 175, 55, 0.05));
            border-radius: 20px;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #D4AF37, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }

        .header p {
            color: #a0aec0;
            font-size: 1.2rem;
            font-weight: 300;
        }

        .main-player {
            background: linear-gradient(145deg, #1a202c, #2d3748);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 0 auto 25px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        /* إضافة overlay لمنع النقر على الجزء العلوي */
        .video-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            z-index: 10;
            pointer-events: none;
            background: transparent;
        }

        /* منع التفاعل مع iframe في الجزء العلوي */
        .video-wrapper:hover::before {
            pointer-events: auto;
        }

        #player {
            width: 100%;
            height: 500px;
            border: none;
            background: #000;
            pointer-events: none;
        }

        /* إخفاء عناصر يوتيوب غير المرغوب فيها */
        #player iframe {
            pointer-events: auto;
        }

        /* إخفاء شعار القناة وأزرار يوتيوب */
        .ytp-chrome-top,
        .ytp-show-cards-title,
        .ytp-cards-button,
        .ytp-watermark,
        .ytp-chrome-top-buttons,
        .ytp-watch-later-button,
        .ytp-share-button,
        .ytp-copylink-button,
        .ytp-channel-name,
        .ytp-title-channel,
        .ytp-title-expanded-overlay,
        .ytp-gradient-top,
        .ytp-chrome-top-buttons .ytp-button,
        .ytp-youtube-button,
        .ytp-cards-teaser,
        .ytp-ce-element,
        .ytp-suggested-action,
        .ytp-endscreen-element,
        .ytp-pause-overlay,
        .ytp-scroll-min,
        .ytp-scroll-max,
        /* إخفاء الأزرار المحددة في الصورة */
        .ytp-title-text,
        .ytp-title-link,
        .ytp-title-expanded-heading,
        .ytp-title-expanded-content,
        .ytp-title-channel-logo,
        .ytp-title-beacon,
        .ytp-contextmenu-button,
        .ytp-overflow-button,
        .ytp-miniplayer-button,
        .ytp-remote-button,
        .ytp-size-button,
        .ytp-subtitles-button,
        .ytp-settings-button,
        .ytp-fullscreen-button,
        .ytp-pip-button,
        .ytp-chrome-controls,
        .ytp-right-controls,
        .ytp-left-controls,
        .ytp-chapter-hover-container,
        .ytp-progress-bar-container,
        .ytp-time-display,
        .ytp-volume-area,
        .ytp-menuitem,
        .ytp-popup,
        .ytp-settings-menu,
        .ytp-panel,
        .ytp-panel-menu,
        .annotation,
        .iv-click-target,
        .ytp-ad-overlay-container,
        .ytp-ad-text-overlay,
        .ytp-ad-player-overlay,
        .ytp-ad-skip-button-container,
        .ytp-ad-button-container {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
        }

        /* إخفاء overlay العلوي بالكامل */
        .ytp-gradient-top {
            background: none !important;
        }

        /* منع التفاعل مع العناصر المخفية */
        .ytp-chrome-top *,
        .ytp-chrome-bottom *,
        .ytp-chrome-controls *,
        .ytp-control-bar *,
        .ytp-progress-bar *,
        .ytp-time-display *,
        .ytp-volume-area *,
        .ytp-right-controls *,
        .ytp-left-controls * {
            pointer-events: none !important;
            user-select: none !important;
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }

        /* إخفاء شريط التحكم بالكامل */
        .ytp-chrome-bottom,
        .ytp-control-bar,
        .ytp-progress-bar-container,
        .ytp-chrome-controls {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
            width: 0 !important;
            height: 0 !important;
        }

        /* منع ظهور أي عنصر تحكم */
        .html5-video-player .ytp-chrome-bottom {
            display: none !important;
        }

        .html5-video-player .ytp-gradient-bottom {
            display: none !important;
        }

        /* إخفاء جميع الأزرار والعناصر التفاعلية */
        button[class*="ytp-"],
        div[class*="ytp-button"],
        span[class*="ytp-button"],
        .ytp-button,
        [role="button"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* إخفاء iframe من يوتيوب بشكل كامل للعناصر غير المرغوبة */
        iframe[src*="youtube.com"] {
            position: relative;
        }

        iframe[src*="youtube.com"]::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: transparent;
            z-index: 9999;
            pointer-events: none;
        }

        /* منع أي تفاعل مع الجزء العلوي من الفيديو */
        .video-container {
            position: relative;
        }

        /* مربع الحماية الشفاف مع blur */
        .video-protection-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 99999;
            pointer-events: auto;
            cursor: default;
            transition: all 0.1s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        /* النص الأيسر - اسم الفيديو */
        .video-overlay-title {
            color: #ffffff;
            font-size: 15px;
            font-weight: 600;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
            max-width: 65%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            direction: rtl;
            text-align: right;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 12px;
            border-radius: 15px;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* النص الأيمن - الصف */
        .video-overlay-grade {
            color: #1a202c;
            font-size: 16px;
            font-weight: 700;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, #D4AF37, #FFD700);
            padding: 8px 16px;
            border-radius: 25px;
            border: 2px solid rgba(212, 175, 55, 0.8);
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
            white-space: nowrap;
            min-width: 120px;
            text-align: center;
        }

        /* مربع حماية إضافي للجزء السفلي */
        .video-protection-overlay-bottom {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: rgba(0, 0, 0, 0.01);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 99999;
            pointer-events: auto;
            cursor: default;
            transition: all 0.1s ease;
        }

        /* مربع حماية شامل للزوايا */
        .video-protection-corners {
            position: absolute;
            top: 80px;
            left: 0;
            right: 0;
            bottom: 80px;
            pointer-events: none;
            z-index: 99998;
        }

        .video-protection-corners::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 60px;
            background: rgba(0, 0, 0, 0.01);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            pointer-events: auto;
            cursor: default;
        }

        .video-protection-corners::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 200px;
            height: 60px;
            background: rgba(0, 0, 0, 0.01);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            pointer-events: auto;
            cursor: default;
        }

        /* إخفاء شامل لجميع العناصر المحتملة */
        iframe {
            position: relative !important;
        }

        iframe::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: transparent;
            z-index: 9999;
            pointer-events: none;
        }

        /* إخفاء أي عنصر يحتوي على النصوص المحددة */
        *[title*="Copy link"],
        *[aria-label*="Copy link"],
        *[title*="كورس"],
        *[aria-label*="كورس"],
        *:contains("Copy link"),
        *:contains("كورس الفيلسوف"),
        *:contains("الجلسة الأولى") {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* إخفاء عناصر محددة بالـ CSS */
        [class*="ytp-title"],
        [class*="ytp-chrome"],
        [class*="ytp-copylink"],
        [class*="ytp-share"],
        [class*="ytp-watermark"],
        [id*="ytp-title"],
        [id*="ytp-chrome"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            position: absolute !important;
            left: -99999px !important;
            top: -99999px !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
        }

        .video-info {
            text-align: center;
            margin-bottom: 25px;
            padding: 0 20px;
        }

        .current-title {
            font-size: 1.6rem;
            font-weight: 700;
            color: #D4AF37;
            margin-bottom: 10px;
            line-height: 1.4;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .current-description {
            color: #a0aec0;
            font-size: 1rem;
            line-height: 1.6;
            max-height: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .control-button {
            background: linear-gradient(145deg, #D4AF37, #B8941F);
            color: #1a202c;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            font-size: 14px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow:
                0 8px 20px rgba(212, 175, 55, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            min-width: 120px;
            position: relative;
            overflow: hidden;
        }

        .control-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .control-button:hover::before {
            left: 100%;
        }

        .control-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow:
                0 12px 25px rgba(212, 175, 55, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .control-button:active {
            transform: translateY(-1px) scale(1.02);
        }

        .control-button:disabled {
            background: linear-gradient(145deg, #4a5568, #2d3748);
            color: #718096;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .playlist-section {
            background: linear-gradient(145deg, #1a202c, #2d3748);
            border-radius: 25px;
            padding: 30px;
            border: 1px solid rgba(212, 175, 55, 0.2);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .playlist-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .playlist-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #D4AF37, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .playlist-subtitle {
            color: #a0aec0;
            font-size: 1rem;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .video-card {
            background: linear-gradient(145deg, #2d3748, #4a5568);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .video-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-card:hover::before {
            opacity: 1;
        }

        .video-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: #D4AF37;
            box-shadow:
                0 20px 40px rgba(212, 175, 55, 0.2),
                0 0 0 1px rgba(212, 175, 55, 0.3);
        }

        .video-card.active {
            border-color: #D4AF37;
            background: linear-gradient(145deg, #D4AF37, #B8941F);
            color: #1a202c;
            transform: scale(1.05);
            box-shadow:
                0 15px 30px rgba(212, 175, 55, 0.4),
                0 0 0 2px rgba(212, 175, 55, 0.6);
        }

        .video-card.active .video-card-title,
        .video-card.active .video-card-date {
            color: #1a202c;
        }

        .video-card.protected {
            border-color: #e53e3e;
            background: linear-gradient(135deg, rgba(229, 62, 62, 0.1), rgba(229, 62, 62, 0.05));
        }

        .video-card.protected:hover {
            border-color: #c53030;
            box-shadow: 0 8px 25px rgba(229, 62, 62, 0.3);
        }

        .protected-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(229, 62, 62, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            backdrop-filter: blur(5px);
            z-index: 2;
        }

        .thumbnail-wrapper {
            position: relative;
            margin-bottom: 15px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .video-thumbnail {
            width: 100%;
            height: 180px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .video-card:hover .video-thumbnail {
            transform: scale(1.1);
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(212, 175, 55, 0.95);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .video-card:hover .play-button {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.1);
        }

        .play-icon {
            width: 0;
            height: 0;
            border-left: 18px solid #1a202c;
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            margin-left: 4px;
        }

        .video-card-title {
            font-weight: 700;
            color: #ffffff;
            font-size: 1.1rem;
            line-height: 1.4;
            margin-bottom: 10px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .video-card-date {
            color: #a0aec0;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .loading-container {
            text-align: center;
            padding: 60px 20px;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(212, 175, 55, 0.2);
            border-top: 4px solid #D4AF37;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        .loading-text {
            color: #D4AF37;
            font-size: 1.2rem;
            font-weight: 600;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-container {
            background: linear-gradient(145deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05));
            border: 2px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .main-player, .playlist-section {
                padding: 20px;
            }

            #player {
                height: 280px;
            }

            .player-controls {
                gap: 15px;
            }

            .control-button {
                padding: 12px 20px;
                font-size: 13px;
                min-width: 100px;
            }

            .video-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .current-title {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.8rem;
            }

            #player {
                height: 220px;
            }

            .control-button {
                padding: 10px 15px;
                font-size: 12px;
                min-width: 90px;
            }

            .player-controls {
                gap: 10px;
            }
        }
    </style>

    <!-- CSS إضافي لضمان الإخفاء التام -->
    <style>
        /* إخفاء نهائي وقوي لجميع العناصر المشكوك فيها */
        iframe[src*="youtube.com"] .ytp-chrome-top,
        iframe[src*="youtube.com"] .ytp-chrome-bottom,
        iframe[src*="youtube.com"] .ytp-title,
        iframe[src*="youtube.com"] .ytp-title-text,
        iframe[src*="youtube.com"] .ytp-title-link,
        iframe[src*="youtube.com"] .ytp-title-channel,
        iframe[src*="youtube.com"] .ytp-copylink-button,
        iframe[src*="youtube.com"] .ytp-share-button,
        iframe[src*="youtube.com"] .ytp-watermark,
        iframe[src*="youtube.com"] .ytp-youtube-button,
        iframe[src*="youtube.com"] .ytp-chrome-top-buttons,
        iframe[src*="youtube.com"] [class*="ytp-title"],
        iframe[src*="youtube.com"] [class*="ytp-chrome"],
        iframe[src*="youtube.com"] [class*="ytp-copylink"],
        iframe[src*="youtube.com"] [class*="ytp-share"],
        iframe[src*="youtube.com"] [id*="ytp-title"],
        iframe[src*="youtube.com"] [id*="ytp-chrome"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            position: fixed !important;
            left: -999999px !important;
            top: -999999px !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
            z-index: -999999 !important;
            transform: scale(0) !important;
        }

        /* منع ظهور أي محتوى نصي محدد */
        *:before,
        *:after {
            content: none !important;
        }

        /* إخفاء أي عنصر يحتوي على النصوص المحددة */
        *[title*="Copy"],
        *[title*="كورس"],
        *[aria-label*="Copy"],
        *[aria-label*="كورس"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* حماية إضافية لمنطقة المشغل */
        #player {
            position: relative !important;
            overflow: hidden !important;
        }

        #player iframe {
            position: relative !important;
            z-index: 1 !important;
        }

        /* منع أي تفاعل مع iframe مباشرة */
        #player iframe::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 99999;
            pointer-events: auto;
            background: transparent;
        }

        /* حماية شاملة للمشغل */
        .video-player-wrapper {
            position: relative;
            isolation: isolate;
        }

        .video-player-wrapper::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: rgba(0, 0, 0, 0.001);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 999999;
            pointer-events: auto;
            cursor: default;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>🎬 مشغل الفيديوهات المخصص</h1>
            <p>تجربة مشاهدة متميزة مع واجهة عربية أنيقة وتحكم كامل</p>
        </div>

        <!-- Main Video Player -->
        <div class="main-player">
            <div class="video-wrapper video-player-wrapper">
                <div id="player"></div>
            </div>

            <div class="video-info">
                <div class="current-title" id="currentVideoTitle">جاري تحميل الفيديو...</div>
                <div class="current-description" id="currentVideoDescription"></div>
            </div>

            <div class="player-controls">
                <button class="control-button" id="previousBtn" onclick="playPreviousVideo()">
                    ⏮️ السابق
                </button>
                <button class="control-button" id="playPauseBtn" onclick="togglePlayPause()">
                    ▶️ تشغيل
                </button>
                <button class="control-button" id="nextBtn" onclick="playNextVideo()">
                    التالي ⏭️
                </button>
                <button class="control-button" onclick="toggleMute()">
                    🔊 كتم الصوت
                </button>
                <button class="control-button" onclick="copyVideoLink()">
                    🔗 نسخ الرابط
                </button>
                <button class="control-button" onclick="enterFullscreen()">
                    🔳 ملء الشاشة
                </button>
            </div>
        </div>

        <!-- Playlist Section -->
        <div class="playlist-section">
            <div class="playlist-header">
                <div class="playlist-title">📋 قائمة الفيديوهات</div>
                <div class="playlist-subtitle">اختر أي فيديو لتشغيله مباشرة</div>
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="loading-container">
                <div class="loading-spinner"></div>
                <div class="loading-text">جاري تحميل الفيديوهات من القناة...</div>
            </div>

            <!-- Error State -->
            <div id="errorState" class="error-container" style="display: none;"></div>

            <!-- Video Grid -->
            <div class="video-grid" id="videoGrid"></div>
        </div>
    </div>

    <script>
        // إعدادات YouTube API
        const YOUTUBE_API_KEY = 'AIzaSyDz7ZgI31uuGOjhVff3zzzk89B_lUtEA44';
        const CHANNEL_ID = 'UC-T2xDT3s-D01GxBcCy7hfQ';
        const MAX_RESULTS = 10;

        // متغيرات التطبيق
        let youtubePlayer;
        let videosList = [];
        let currentVideoIndex = 0;
        let isPlayerReady = false;

        // --- دوال الصفوف وفلترة الفيديوهات حسب الصف ---
        const GRADE_LABELS = {
            prep1: 'الصف الأول الإعدادي',
            prep2: 'الصف الثاني الإعدادي',
            prep3: 'الصف الثالث الإعدادي',
            sec1: 'الصف الأول الثانوي',
            sec2: 'الصف الثاني الثانوي',
            sec3: 'الصف الثالث الثانوي',
            primary6: 'الصف السادس الابتدائي'
        };

        const GRADE_KEYWORDS = {
            prep1: ['الصف الاول الاعدادي','الأول الاعدادي','اولى اعدادي','اول اعدادي','1 اعدادي','1-اعدادي','prep1','1prep','1-إعدادي','الاول الاعدادي'],
            prep2: ['الصف الثاني الاعدادي','الثاني الاعدادي','ثانية اعدادي','2 اعدادي','2-اعدادي','prep2','2prep','2-إعدادي'],
            prep3: ['الصف الثالث الاعدادي','الثالث الاعدادي','ثالثة اعدادي','3 اعدادي','3-اعدادي','prep3','3prep','3-إعدادي'],
            sec1:  ['الصف الأول الثانوي','الاول الثانوي','أولى ثانوي','1 ثانوي','1-ثانوي','sec1','1sec'],
            sec2:  ['الصف الثاني الثانوي','الثاني الثانوي','ثانية ثانوي','2 ثانوي','2-ثانوي','sec2','2sec'],
            sec3:  ['الصف الثالث الثانوي','الثالث الثانوي','ثالثة ثانوي','3 ثانوي','3-ثانوي','sec3','3sec']
        };

        function normalizeText(s) {
            return (s || '').toString().toLowerCase()
                .replace(/[أإآ]/g, 'ا')
                .replace(/ى/g, 'ي')
                .replace(/ة/g, 'ه')
                .replace(/\s+/g, ' ')
                .trim();
        }

        function detectGradeFromTitle(title) {
            const t = normalizeText(title);
            for (const [key, words] of Object.entries(GRADE_KEYWORDS)) {
                if (words.some(w => t.includes(normalizeText(w)))) {
                    return { key, label: GRADE_LABELS[key] || 'غير محدد' };
                }
            }
            // قواعد عامة: إذا وجد "اعدادي" ورقم
            if (t.includes('اعدادي') && t.match(/(^|\s)[123](\s|$)/)) {
                const n = t.match(/(^|\s)([123])(\s|$)/)[2];
                const key = n === '1' ? 'prep1' : n === '2' ? 'prep2' : 'prep3';
                return { key, label: GRADE_LABELS[key] };
            }
            if (t.includes('ثانوي') && t.match(/(^|\s)[123](\s|$)/)) {
                const n = t.match(/(^|\s)([123])(\s|$)/)[2];
                const key = n === '1' ? 'sec1' : n === '2' ? 'sec2' : 'sec3';
                return { key, label: GRADE_LABELS[key] };
            }
            return { key: 'unknown', label: 'غير محدد' };
        }

        function getSelectedGradeKey() {
            const params = new URLSearchParams(window.location.search);
            const q = normalizeText(params.get('grade') || '');
            if (!q) return null;
            for (const [key, words] of Object.entries(GRADE_KEYWORDS)) {
                if (words.some(w => q.includes(normalizeText(w)))) return key;
            }
            return null;
        }

        const SELECTED_GRADE_KEY = getSelectedGradeKey();
        // --- نهاية دوال الصفوف ---

        // تحميل YouTube IFrame API
        function loadYouTubeAPI() {
            const script = document.createElement('script');
            script.src = 'https://www.youtube.com/iframe_api';
            document.head.appendChild(script);
        }

        // دالة مطلوبة من YouTube API - يتم استدعاؤها تلقائياً
        function onYouTubeIframeAPIReady() {
            console.log('✅ YouTube IFrame API جاهز');
            loadChannelVideos();
        }

        // تحميل فيديوهات القناة من YouTube Data API
        async function loadChannelVideos() {
            try {
                console.log('🔄 بدء تحميل فيديوهات القناة...');

                const apiUrl = `https://www.googleapis.com/youtube/v3/search?key=${YOUTUBE_API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}&type=video`;

                const response = await fetch(apiUrl);

                if (!response.ok) {
                    throw new Error(`خطأ HTTP: ${response.status} - ${response.statusText}`);
                }

                const data = await response.json();

                if (data.error) {
                    throw new Error(`خطأ API: ${data.error.message}`);
                }

                if (!data.items || data.items.length === 0) {
                    throw new Error('لم يتم العثور على فيديوهات في هذه القناة');
                }

                // تحويل البيانات إلى تنسيق مناسب مع إضافة كلمات المرور للفيديوهات المحمية
                videosList = data.items.map(item => {
                    const video = {
                        id: item.id.videoId,
                        title: item.snippet.title,
                        description: item.snippet.description,
                        thumbnail: item.snippet.thumbnails.medium.url,
                        publishedAt: item.snippet.publishedAt,
                        channelTitle: item.snippet.channelTitle,
                        isProtected: false,
                        password: null,
                        grade: 'غير محدد' // الصف الافتراضي
                    };

                    // تحديد الصف بناءً على معرف الفيديو أولاً (للتخصيص اليدوي)
                    const customGrades = {
                        // يمكنك إضافة معرفات فيديوهات محددة وصفوفها هنا
                        'dQw4w9WgXcQ': 'الصف الثالث الثانوي',
                        'VIDEO_ID_2': 'الصف الأول الثانوي',
                        // أضف المزيد حسب الحاجة
                    };

                    if (customGrades[video.id]) {
                        video.grade = customGrades[video.id];
                    } else {
                        // تحديد الصف بناءً على عنوان الفيديو مع قواعد متقدمة
                        const detected = detectGradeFromTitle(video.title);
                        if (detected.key !== 'unknown') {
                            video.grade = detected.label;
                            video.gradeKey = detected.key;
                        }
                    }

                    // تحديد الفيديوهات المحمية وكلمات المرور الخاصة بها
                    const protectedVideos = {
                        // يمكنك إضافة معرفات الفيديوهات المحمية وكلمات المرور هنا
                        'dQw4w9WgXcQ': 'password123',  // مثال
                        'VIDEO_ID_2': 'mypassword',    // مثال آخر
                        // أضف المزيد حسب الحاجة
                    };

                    // فحص إذا كان الفيديو محمي
                    if (protectedVideos[video.id]) {
                        video.isProtected = true;
                        video.password = protectedVideos[video.id];
                    }

                    // فحص إضافي بناءً على عنوان الفيديو (للفيديوهات التي تحتوي على كلمات معينة)
                    const protectedKeywords = ['محمي', 'مدفوع', 'خاص', 'VIP', 'Premium'];
                    if (protectedKeywords.some(keyword => video.title.includes(keyword))) {
                        video.isProtected = true;
                        video.password = video.password || 'defaultpass'; // كلمة مرور افتراضية
                    }

                    return video;
                });

                console.log(`✅ تم تحميل ${videosList.length} فيديو بنجاح`);

                // فلترة حسب الصف إذا تم تحديده من الرابط
                if (SELECTED_GRADE_KEY) {
                    videosList = videosList.filter(v => {
                        const d = detectGradeFromTitle(v.title);
                        v.grade = d.label;
                        v.gradeKey = d.key;
                        return d.key === SELECTED_GRADE_KEY;
                    });
                    console.log('🎯 فلترة حسب الصف:', SELECTED_GRADE_KEY, '=>', videosList.length, 'فيديو');
                }

                // عرض قائمة الفيديوهات
                displayVideoPlaylist();

                // تهيئة المشغل مع أول فيديو
                initializePlayer();

            } catch (error) {
                console.error('❌ خطأ في تحميل الفيديوهات:', error);
                showError(`فشل في تحميل الفيديوهات: ${error.message}`);
            }
        }

        // عرض قائمة الفيديوهات
        function displayVideoPlaylist() {
            const videoGrid = document.getElementById('videoGrid');
                // إذا لم توجد فيديوهات بعد الفلترة، أظهر رسالة مناسبة
                if (videosList.length === 0) {
                    videoGrid.innerHTML = `<div style="text-align:center;color:#a0aec0;padding:40px">لا توجد فيديوهات لهذا الصف حالياً.</div>`;
                    return;
                }

            const loadingState = document.getElementById('loadingState');

            // إخفاء شاشة التحميل
            loadingState.style.display = 'none';

            // إنشاء HTML للفيديوهات (بدون أي فلاتر أو قوائم يراها الطالب)
            videoGrid.innerHTML = videosList.map((video, index) => `
                <div class="video-card ${index === 0 ? 'active' : ''} ${video.isProtected ? 'protected' : ''}" onclick="playVideoByIndex(${index})" data-grade="${video.gradeKey || ''}">
                    <div class="thumbnail-wrapper">
                        <img src="${video.thumbnail}" alt="${video.title}" class="video-thumbnail" draggable="false">
                        <div class="play-button">
                            <div class="play-icon">${video.isProtected ? '🔒' : ''}</div>
                        </div>
                        ${video.isProtected ? '<div class="protected-badge">🔒 محمي</div>' : ''}
                    </div>
                    <div class="video-card-title">${video.title}</div>
                    <div class="video-card-date">${formatPublishDate(video.publishedAt)}</div>
                </div>
            `).join('');
        }

        // تهيئة مشغل YouTube
        function initializePlayer() {
            if (videosList.length === 0) {
                showError('لا توجد فيديوهات متاحة للتشغيل');
                return;
            }

            youtubePlayer = new YT.Player('player', {
                height: '500',
                width: '100%',
                videoId: videosList[0].id,
                playerVars: {
                    'autoplay': 0,           // عدم التشغيل التلقائي
                    'controls': 0,           // إخفاء جميع أزرار التحكم
                    'showinfo': 0,           // إخفاء معلومات الفيديو
                    'rel': 0,                // عدم إظهار فيديوهات مقترحة
                    'modestbranding': 1,     // إخفاء شعار YouTube
                    'iv_load_policy': 3,     // إخفاء التعليقات التوضيحية
                    'fs': 0,                 // إخفاء زر ملء الشاشة
                    'cc_load_policy': 0,     // إخفاء الترجمة
                    'hl': 'ar',              // اللغة العربية
                    'disablekb': 1,          // تعطيل اختصارات لوحة المفاتيح
                    'enablejsapi': 1,        // تفعيل JavaScript API
                    'playsinline': 1,        // تشغيل مضمن
                    'origin': window.location.origin,
                    'widget_referrer': window.location.origin,
                    'autohide': 1,           // إخفاء أزرار التحكم تلقائياً
                    'color': 'white',        // لون شريط التقدم
                    'theme': 'dark',         // المظهر الداكن
                    'loop': 0,               // عدم التكرار
                    'playlist': '',          // قائمة تشغيل فارغة
                    'start': 0,              // بداية الفيديو
                    'end': 0                 // نهاية الفيديو (0 = حتى النهاية)
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange,
                    'onError': onPlayerError
                }
            });
        }

        // عند جاهزية المشغل
        function onPlayerReady(event) {
            isPlayerReady = true;
            console.log('✅ مشغل YouTube جاهز');
            updateCurrentVideoInfo(0);
            updateNavigationButtons();

            // إنشاء مربعات الحماية فوراً
            setTimeout(createProtectionOverlays, 100);

            // إخفاء عناصر يوتيوب غير المرغوب فيها
            hideYouTubeElements();

            // مراقبة مستمرة لإخفاء العناصر الجديدة
            setInterval(hideYouTubeElements, 100);

            // مراقبة مستمرة لمربعات الحماية
            setInterval(maintainProtectionOverlays, 50);

            // مراقبة فائقة السرعة للعناصر المهمة
            setInterval(() => {
                try {
                    const iframe = document.querySelector('#player iframe');
                    if (iframe && iframe.contentDocument) {
                        const iframeDoc = iframe.contentDocument;

                        // إزالة فورية لأي عنصر مشكوك فيه
                        const problematicSelectors = [
                            '.ytp-chrome-top',
                            '.ytp-chrome-bottom',
                            '.ytp-title',
                            '.ytp-title-text',
                            '.ytp-title-link',
                            '.ytp-title-channel',
                            '.ytp-copylink-button',
                            '.ytp-share-button',
                            '.ytp-watermark',
                            '.ytp-youtube-button',
                            '.ytp-chrome-top-buttons',
                            '[class*="ytp-title"]',
                            '[class*="ytp-chrome"]',
                            '[class*="ytp-copylink"]',
                            '[class*="ytp-share"]'
                        ];

                        problematicSelectors.forEach(selector => {
                            const elements = iframeDoc.querySelectorAll(selector);
                            elements.forEach(element => {
                                element.remove();
                            });
                        });

                        // إزالة أي عنصر يحتوي على النصوص المحددة
                        const allElements = iframeDoc.querySelectorAll('*');
                        allElements.forEach(element => {
                            const text = element.textContent || element.innerText || '';
                            if (text.includes('Copy link') ||
                                text.includes('نسخ الرابط') ||
                                text.includes('كورس الفيلسوف الجلسة الأولى') ||
                                text.includes('كورس') ||
                                text.includes('الجلسة')) {
                                element.remove();
                            }
                        });
                    }
                } catch (error) {
                    // تجاهل أخطاء CORS
                }
            }, 50);

            // مراقبة إضافية للتأكد من الإزالة
            setInterval(() => {
                try {
                    const iframe = document.querySelector('#player iframe');
                    if (iframe && iframe.contentDocument) {
                        const iframeDoc = iframe.contentDocument;

                        // إضافة CSS قوي مباشرة
                        const forceHideStyle = iframeDoc.createElement('style');
                        forceHideStyle.textContent = `
                            .ytp-chrome-top,
                            .ytp-chrome-bottom,
                            .ytp-title,
                            .ytp-title-text,
                            .ytp-title-link,
                            .ytp-copylink-button,
                            .ytp-share-button,
                            .ytp-watermark,
                            .ytp-youtube-button,
                            [class*="ytp-title"],
                            [class*="ytp-chrome"],
                            [class*="ytp-copylink"] {
                                display: none !important;
                                visibility: hidden !important;
                                opacity: 0 !important;
                                pointer-events: none !important;
                                position: absolute !important;
                                left: -99999px !important;
                                top: -99999px !important;
                                width: 0 !important;
                                height: 0 !important;
                            }
                        `;

                        if (!iframeDoc.getElementById('force-hide-style')) {
                            forceHideStyle.id = 'force-hide-style';
                            iframeDoc.head.appendChild(forceHideStyle);
                        }
                    }
                } catch (error) {
                    // تجاهل أخطاء CORS
                }
            }, 100);
        }

        // عند تغيير حالة المشغل
        function onPlayerStateChange(event) {
            const playPauseBtn = document.getElementById('playPauseBtn');

            switch(event.data) {
                case YT.PlayerState.PLAYING:
                    playPauseBtn.innerHTML = '⏸️ إيقاف';
                    break;
                case YT.PlayerState.PAUSED:
                    playPauseBtn.innerHTML = '▶️ تشغيل';
                    break;
                case YT.PlayerState.ENDED:
                    // تشغيل الفيديو التالي تلقائياً
                    playNextVideo();
                    break;
            }
        }

        // عند حدوث خطأ في المشغل
        function onPlayerError(event) {
            console.error('❌ خطأ في مشغل YouTube:', event.data);
            let errorMessage = 'حدث خطأ في تشغيل الفيديو';

            switch(event.data) {
                case 2:
                    errorMessage = 'معرف الفيديو غير صحيح';
                    break;
                case 5:
                    errorMessage = 'خطأ في تشغيل الفيديو';
                    break;
                case 100:
                    errorMessage = 'الفيديو غير موجود أو محذوف';
                    break;
                case 101:
                case 150:
                    errorMessage = 'الفيديو غير متاح للتشغيل المضمن';
                    break;
            }

            showError(errorMessage);
        }

        // تشغيل فيديو بالفهرس
        function playVideoByIndex(index) {
            if (!isPlayerReady || index < 0 || index >= videosList.length) {
                return;
            }

            const video = videosList[index];

            // فحص إذا كان الفيديو محمي
            if (video.isProtected) {
                showPasswordPrompt(index);
                return;
            }

            // تشغيل الفيديو العادي
            loadAndPlayVideo(index);
        }

        // عرض شاشة إدخال كلمة المرور
        function showPasswordPrompt(videoIndex) {
            const video = videosList[videoIndex];

            // إنشاء شاشة كلمة المرور
            const passwordOverlay = document.createElement('div');
            passwordOverlay.className = 'password-overlay';
            passwordOverlay.innerHTML = `
                <div class="password-container">
                    <div class="protected-video-icon">🔒</div>
                    <h2>فيديو محمي</h2>
                    <p>هذا الفيديو محمي بكلمة مرور. يرجى إدخال كلمة المرور للمتابعة.</p>
                    <p><strong>${video.title}</strong></p>
                    <input type="password" class="password-input" placeholder="أدخل كلمة المرور" id="videoPassword">
                    <button class="password-submit" onclick="checkPassword(${videoIndex})">دخول</button>
                    <div class="password-error" id="passwordError">كلمة المرور غير صحيحة!</div>
                </div>
            `;

            document.body.appendChild(passwordOverlay);

            // التركيز على حقل كلمة المرور
            setTimeout(() => {
                document.getElementById('videoPassword').focus();
            }, 100);

            // إضافة مستمع للضغط على Enter
            document.getElementById('videoPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkPassword(videoIndex);
                }
            });
        }

        // فحص كلمة المرور
        function checkPassword(videoIndex) {
            const video = videosList[videoIndex];
            const enteredPassword = document.getElementById('videoPassword').value;
            const errorElement = document.getElementById('passwordError');

            if (enteredPassword === video.password) {
                // كلمة المرور صحيحة
                document.querySelector('.password-overlay').remove();
                loadAndPlayVideo(videoIndex);
            } else {
                // كلمة المرور خاطئة
                errorElement.style.display = 'block';
                document.getElementById('videoPassword').value = '';
                document.getElementById('videoPassword').focus();

                // إخفاء رسالة الخطأ بعد 3 ثوان
                setTimeout(() => {
                    errorElement.style.display = 'none';
                }, 3000);
            }
        }

        // تحميل وتشغيل الفيديو
        function loadAndPlayVideo(index) {
            currentVideoIndex = index;
            youtubePlayer.loadVideoById(videosList[index].id);
            updateCurrentVideoInfo(index);
            updateActiveVideoCard(index);
            updateNavigationButtons();

            // إعادة إنشاء مربعات الحماية عند تغيير الفيديو
            setTimeout(createProtectionOverlays, 200);

            // تحديث النصوص بعد إنشاء المربعات
            setTimeout(updateOverlayTexts, 300);

            console.log(`🎬 تشغيل الفيديو: ${videosList[index].title}`);
        }

        // تحديث معلومات الفيديو الحالي
        function updateCurrentVideoInfo(index) {
            const video = videosList[index];
            const titleElement = document.getElementById('currentVideoTitle');
            const descriptionElement = document.getElementById('currentVideoDescription');

            titleElement.textContent = video.title;
            descriptionElement.textContent = video.description.length > 200
                ? video.description.substring(0, 200) + '...'
                : video.description;
        }

        // تحديث البطاقة النشطة
        function updateActiveVideoCard(index) {
            document.querySelectorAll('.video-card').forEach((card, i) => {
                card.classList.toggle('active', i === index);
            });
        }

        // تحديث أزرار التنقل
        function updateNavigationButtons() {
            const previousBtn = document.getElementById('previousBtn');
            const nextBtn = document.getElementById('nextBtn');

            previousBtn.disabled = currentVideoIndex === 0;
            nextBtn.disabled = currentVideoIndex === videosList.length - 1;
        }

        // تشغيل الفيديو التالي
        function playNextVideo() {
            if (currentVideoIndex < videosList.length - 1) {
                playVideoByIndex(currentVideoIndex + 1);
            }
        }

        // تشغيل الفيديو السابق
        function playPreviousVideo() {
            if (currentVideoIndex > 0) {
                playVideoByIndex(currentVideoIndex - 1);
            }
        }

        // تبديل تشغيل/إيقاف
        function togglePlayPause() {
            if (!isPlayerReady) return;

            const playerState = youtubePlayer.getPlayerState();
            if (playerState === YT.PlayerState.PLAYING) {
                youtubePlayer.pauseVideo();
            } else {
                youtubePlayer.playVideo();
            }
        }

        // تبديل كتم الصوت
        function toggleMute() {
            if (!isPlayerReady) return;

            if (youtubePlayer.isMuted()) {
                youtubePlayer.unMute();
            } else {
                youtubePlayer.mute();
            }
        }

        // دخول وضع ملء الشاشة
        function enterFullscreen() {
            const playerElement = document.getElementById('player');

            if (playerElement.requestFullscreen) {
                playerElement.requestFullscreen();
            } else if (playerElement.webkitRequestFullscreen) {
                playerElement.webkitRequestFullscreen();
            } else if (playerElement.msRequestFullscreen) {
                playerElement.msRequestFullscreen();
            }
        }

        // نسخ رابط الفيديو الحالي
        function copyVideoLink() {
            if (currentVideoIndex >= 0 && currentVideoIndex < videosList.length) {
                const currentVideo = videosList[currentVideoIndex];
                const videoUrl = `https://www.youtube.com/watch?v=${currentVideo.id}`;

                // نسخ الرابط إلى الحافظة
                navigator.clipboard.writeText(videoUrl).then(() => {
                    // إظهار رسالة تأكيد
                    showNotification('تم نسخ رابط الفيديو بنجاح! 🔗', 'success');
                }).catch(err => {
                    // في حالة فشل النسخ، استخدم طريقة بديلة
                    const textArea = document.createElement('textarea');
                    textArea.value = videoUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);

                    showNotification('تم نسخ رابط الفيديو! 🔗', 'success');
                });
            } else {
                showNotification('لا يوجد فيديو محدد للنسخ', 'error');
            }
        }

        // إظهار إشعار
        function showNotification(message, type = 'info') {
            // إزالة أي إشعار موجود
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            // إنشاء إشعار جديد
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#48bb78' : type === 'error' ? '#e53e3e' : '#4299e1'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                z-index: 10001;
                font-weight: bold;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            notification.textContent = message;

            document.body.appendChild(notification);

            // إظهار الإشعار
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            // إخفاء الإشعار بعد 3 ثوان
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 300);
            }, 3000);
        }

        // تنسيق تاريخ النشر
        function formatPublishDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays === 1) {
                return 'منذ يوم واحد';
            } else if (diffDays < 7) {
                return `منذ ${diffDays} أيام`;
            } else if (diffDays < 30) {
                const weeks = Math.floor(diffDays / 7);
                return `منذ ${weeks} ${weeks === 1 ? 'أسبوع' : 'أسابيع'}`;
            } else if (diffDays < 365) {
                const months = Math.floor(diffDays / 30);
                return `منذ ${months} ${months === 1 ? 'شهر' : 'أشهر'}`;
            } else {
                const years = Math.floor(diffDays / 365);
                return `منذ ${years} ${years === 1 ? 'سنة' : 'سنوات'}`;
            }
        }

        // عرض رسالة خطأ
        function showError(message) {
            const loadingState = document.getElementById('loadingState');
            const errorState = document.getElementById('errorState');

            loadingState.style.display = 'none';
            errorState.style.display = 'block';
            errorState.innerHTML = `
                <div style="font-size: 2rem; margin-bottom: 15px;">⚠️</div>
                <div style="font-weight: bold; margin-bottom: 10px;">حدث خطأ</div>
                <div>${message}</div>
                <button onclick="location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #D4AF37; color: #1a202c; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                    🔄 إعادة المحاولة
                </button>
            `;
        }

        // إخفاء عناصر يوتيوب غير المرغوب فيها
        function hideYouTubeElements() {
            try {
                const iframe = document.querySelector('#player iframe');
                if (!iframe) return;

                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                if (!iframeDoc) return;

                // إزالة العناصر بشكل فوري وقوي
                const aggressiveRemoval = () => {
                    // إزالة جميع العناصر التي تحتوي على النصوص المحددة
                    const allElements = iframeDoc.querySelectorAll('*');
                    allElements.forEach(element => {
                        const text = element.textContent || element.innerText || '';
                        const className = element.className || '';
                        const id = element.id || '';

                        if (text.includes('Copy link') ||
                            text.includes('نسخ الرابط') ||
                            text.includes('كورس الفيلسوف الجلسة الأولى') ||
                            text.includes('كورس') ||
                            text.includes('الجلسة') ||
                            className.includes('ytp-title') ||
                            className.includes('ytp-chrome-top') ||
                            className.includes('ytp-chrome-bottom') ||
                            className.includes('ytp-copylink') ||
                            className.includes('ytp-share') ||
                            className.includes('ytp-watermark') ||
                            className.includes('ytp-youtube-button') ||
                            id.includes('ytp-title')) {

                            element.remove();
                            return;
                        }
                    });
                };

                // تشغيل الإزالة العدوانية
                aggressiveRemoval();

                // قائمة العناصر المراد إخفاؤها
                const elementsToHide = [
                    '.ytp-chrome-top',
                    '.ytp-chrome-bottom',
                    '.ytp-chrome-controls',
                    '.ytp-control-bar',
                    '.ytp-progress-bar-container',
                    '.ytp-show-cards-title',
                    '.ytp-cards-button',
                    '.ytp-watermark',
                    '.ytp-chrome-top-buttons',
                    '.ytp-watch-later-button',
                    '.ytp-share-button',
                    '.ytp-copylink-button',
                    '.ytp-channel-name',
                    '.ytp-title-channel',
                    '.ytp-title-expanded-overlay',
                    '.ytp-gradient-top',
                    '.ytp-gradient-bottom',
                    '.ytp-youtube-button',
                    '.ytp-cards-teaser',
                    '.ytp-ce-element',
                    '.ytp-suggested-action',
                    '.ytp-endscreen-element',
                    '.ytp-pause-overlay',
                    '.ytp-title-text',
                    '.ytp-title-link',
                    '.ytp-title-expanded-heading',
                    '.ytp-title-expanded-content',
                    '.ytp-videowall-still',
                    '.ytp-scroll-min',
                    '.ytp-scroll-max',
                    '.ytp-impression-link',
                    '.ytp-title-channel-logo',
                    '.ytp-title-beacon',
                    '.ytp-contextmenu-button',
                    '.ytp-overflow-button',
                    '.ytp-miniplayer-button',
                    '.ytp-remote-button',
                    '.ytp-size-button',
                    '.ytp-subtitles-button',
                    '.ytp-settings-button',
                    '.ytp-fullscreen-button',
                    '.ytp-pip-button',
                    '.ytp-right-controls',
                    '.ytp-left-controls',
                    '.ytp-chapter-hover-container',
                    '.ytp-time-display',
                    '.ytp-volume-area',
                    '.ytp-menuitem',
                    '.ytp-popup',
                    '.ytp-settings-menu',
                    '.ytp-panel',
                    '.ytp-panel-menu',
                    '.annotation',
                    '.iv-click-target',
                    '.ytp-ad-overlay-container',
                    '.ytp-ad-text-overlay',
                    '.ytp-ad-player-overlay',
                    '.ytp-ad-skip-button-container',
                    '.ytp-ad-button-container',
                    'button[class*="ytp-"]',
                    'div[class*="ytp-button"]',
                    'span[class*="ytp-button"]',
                    '.ytp-button',
                    '[role="button"]'
                ];

                // إخفاء العناصر
                elementsToHide.forEach(selector => {
                    const elements = iframeDoc.querySelectorAll(selector);
                    elements.forEach(element => {
                        element.style.display = 'none';
                        element.style.visibility = 'hidden';
                        element.style.opacity = '0';
                        element.style.pointerEvents = 'none';
                        element.style.userSelect = 'none';
                        element.style.position = 'absolute';
                        element.style.left = '-9999px';
                        element.style.top = '-9999px';
                        element.style.width = '0';
                        element.style.height = '0';
                        element.style.overflow = 'hidden';
                        element.setAttribute('hidden', 'true');
                        element.setAttribute('aria-hidden', 'true');
                    });
                });

                // إخفاء أي عنصر يحتوي على نص "Copy link"
                const allElements = iframeDoc.querySelectorAll('*');
                allElements.forEach(element => {
                    if (element.textContent && (
                        element.textContent.includes('Copy link') ||
                        element.textContent.includes('نسخ الرابط') ||
                        element.textContent.includes('كورس') ||
                        element.textContent.includes('الجلسة الأولى')
                    )) {
                        element.style.display = 'none';
                        element.style.visibility = 'hidden';
                        element.style.opacity = '0';
                        element.style.pointerEvents = 'none';
                    }
                });

                // إضافة CSS مخصص لإخفاء العناصر
                let customStyle = iframeDoc.getElementById('custom-hide-style');
                if (!customStyle) {
                    customStyle = iframeDoc.createElement('style');
                    customStyle.id = 'custom-hide-style';
                    customStyle.textContent = `
                        .ytp-chrome-top,
                        .ytp-chrome-bottom,
                        .ytp-chrome-controls,
                        .ytp-control-bar,
                        .ytp-progress-bar-container,
                        .ytp-show-cards-title,
                        .ytp-cards-button,
                        .ytp-watermark,
                        .ytp-chrome-top-buttons,
                        .ytp-watch-later-button,
                        .ytp-share-button,
                        .ytp-copylink-button,
                        .ytp-channel-name,
                        .ytp-title-channel,
                        .ytp-title-expanded-overlay,
                        .ytp-gradient-top,
                        .ytp-gradient-bottom,
                        .ytp-youtube-button,
                        .ytp-cards-teaser,
                        .ytp-ce-element,
                        .ytp-suggested-action,
                        .ytp-endscreen-element,
                        .ytp-pause-overlay,
                        .ytp-title-text,
                        .ytp-title-link,
                        .ytp-title-expanded-heading,
                        .ytp-title-expanded-content,
                        .ytp-videowall-still,
                        .ytp-scroll-min,
                        .ytp-scroll-max,
                        .ytp-impression-link,
                        .ytp-title-channel-logo,
                        .ytp-title-beacon,
                        .ytp-contextmenu-button,
                        .ytp-overflow-button,
                        .ytp-miniplayer-button,
                        .ytp-remote-button,
                        .ytp-size-button,
                        .ytp-subtitles-button,
                        .ytp-settings-button,
                        .ytp-fullscreen-button,
                        .ytp-pip-button,
                        .ytp-right-controls,
                        .ytp-left-controls,
                        .ytp-chapter-hover-container,
                        .ytp-time-display,
                        .ytp-volume-area,
                        .ytp-menuitem,
                        .ytp-popup,
                        .ytp-settings-menu,
                        .ytp-panel,
                        .ytp-panel-menu,
                        .annotation,
                        .iv-click-target,
                        .ytp-ad-overlay-container,
                        .ytp-ad-text-overlay,
                        .ytp-ad-player-overlay,
                        .ytp-ad-skip-button-container,
                        .ytp-ad-button-container,
                        button[class*="ytp-"],
                        div[class*="ytp-button"],
                        span[class*="ytp-button"],
                        .ytp-button,
                        [role="button"] {
                            display: none !important;
                            visibility: hidden !important;
                            opacity: 0 !important;
                            pointer-events: none !important;
                            user-select: none !important;
                            position: absolute !important;
                            left: -9999px !important;
                            top: -9999px !important;
                            width: 0 !important;
                            height: 0 !important;
                            overflow: hidden !important;
                        }

                        .ytp-gradient-top,
                        .ytp-gradient-bottom {
                            background: none !important;
                        }

                        .ytp-chrome-top *,
                        .ytp-chrome-bottom *,
                        .ytp-chrome-controls * {
                            pointer-events: none !important;
                            user-select: none !important;
                            display: none !important;
                            visibility: hidden !important;
                            opacity: 0 !important;
                        }

                        /* منع ظهور أي شيء في الجزء العلوي والسفلي */
                        .html5-video-player .ytp-chrome-bottom,
                        .html5-video-player .ytp-chrome-top {
                            display: none !important;
                        }
                    `;
                    iframeDoc.head.appendChild(customStyle);
                }

                // إضافة MutationObserver لمراقبة التغييرات
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        mutation.addedNodes.forEach((node) => {
                            if (node.nodeType === 1) { // Element node
                                const element = node;
                                const text = element.textContent || '';
                                const className = element.className || '';

                                if (text.includes('Copy link') ||
                                    text.includes('كورس') ||
                                    text.includes('الجلسة') ||
                                    className.includes('ytp-title') ||
                                    className.includes('ytp-chrome') ||
                                    className.includes('ytp-copylink') ||
                                    className.includes('ytp-share') ||
                                    className.includes('ytp-watermark')) {

                                    element.remove();
                                }

                                // فحص العناصر الفرعية أيضاً
                                const problematicChildren = element.querySelectorAll('*');
                                problematicChildren.forEach(child => {
                                    const childText = child.textContent || '';
                                    const childClass = child.className || '';

                                    if (childText.includes('Copy link') ||
                                        childText.includes('كورس') ||
                                        childClass.includes('ytp-title') ||
                                        childClass.includes('ytp-chrome') ||
                                        childClass.includes('ytp-copylink')) {
                                        child.remove();
                                    }
                                });
                            }
                        });
                    });
                });

                // بدء مراقبة التغييرات
                observer.observe(iframeDoc.body, {
                    childList: true,
                    subtree: true,
                    attributes: true,
                    attributeOldValue: true
                });

            } catch (error) {
                // تجاهل الأخطاء المتعلقة بـ CORS
                console.log('🔒 لا يمكن الوصول لمحتوى iframe بسبب CORS');
            }
        }

        // إنشاء مربعات الحماية الشفافة
        function createProtectionOverlays() {
            const playerContainer = document.getElementById('player');
            if (!playerContainer) return;

            // التأكد من أن الحاوي له موضع نسبي
            playerContainer.style.position = 'relative';

            // إزالة أي مربعات حماية موجودة
            const existingOverlays = playerContainer.querySelectorAll('.video-protection-overlay, .video-protection-overlay-bottom, .video-protection-corners');
            existingOverlays.forEach(overlay => overlay.remove());

            // إنشاء مربع الحماية العلوي مع النصوص
            const topOverlay = document.createElement('div');
            topOverlay.className = 'video-protection-overlay';
            topOverlay.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 80px;
                background: rgba(0, 0, 0, 0.7);
                backdrop-filter: blur(15px);
                -webkit-backdrop-filter: blur(15px);
                z-index: 99999;
                pointer-events: auto;
                cursor: default;
                transition: all 0.1s ease;
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0 20px;
            `;

            // الحصول على معلومات الفيديو الحالي
            const currentVideo = videosList[currentVideoIndex] || { title: 'جاري التحميل...', grade: 'غير محدد' };

            // إنشاء النص الأيسر (اسم الفيديو)
            const titleText = document.createElement('div');
            titleText.className = 'video-overlay-title';
            titleText.textContent = currentVideo.title;
            titleText.style.cssText = `
                color: #ffffff;
                font-size: 15px;
                font-weight: 600;
                text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
                max-width: 65%;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                direction: rtl;
                text-align: right;
                background: rgba(0, 0, 0, 0.3);
                padding: 8px 12px;
                border-radius: 15px;
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            `;

            // إنشاء النص الأيمن (الصف)
            const gradeText = document.createElement('div');
            gradeText.className = 'video-overlay-grade';
            gradeText.textContent = currentVideo.grade;
            gradeText.style.cssText = `
                color: #1a202c;
                font-size: 16px;
                font-weight: 700;
                text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
                background: linear-gradient(135deg, #D4AF37, #FFD700);
                padding: 8px 16px;
                border-radius: 25px;
                border: 2px solid rgba(212, 175, 55, 0.8);
                backdrop-filter: blur(5px);
                box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
                white-space: nowrap;
                min-width: 120px;
                text-align: center;
            `;

            // إضافة النصوص إلى المربع العلوي
            topOverlay.appendChild(titleText);
            topOverlay.appendChild(gradeText);

            // إنشاء مربع الحماية السفلي
            const bottomOverlay = document.createElement('div');
            bottomOverlay.className = 'video-protection-overlay-bottom';
            bottomOverlay.style.cssText = `
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 80px;
                background: rgba(0, 0, 0, 0.01);
                backdrop-filter: blur(15px);
                -webkit-backdrop-filter: blur(15px);
                z-index: 99999;
                pointer-events: auto;
                cursor: default;
                transition: all 0.1s ease;
            `;

            // إنشاء مربع حماية الزوايا
            const cornersOverlay = document.createElement('div');
            cornersOverlay.className = 'video-protection-corners';
            cornersOverlay.style.cssText = `
                position: absolute;
                top: 80px;
                left: 0;
                right: 0;
                bottom: 80px;
                pointer-events: none;
                z-index: 99998;
            `;

            // إضافة حماية للزاوية اليمنى العلوية
            const rightCorner = document.createElement('div');
            rightCorner.style.cssText = `
                position: absolute;
                top: 0;
                right: 0;
                width: 150px;
                height: 60px;
                background: rgba(0, 0, 0, 0.01);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                pointer-events: auto;
                cursor: default;
            `;

            // إضافة حماية للزاوية اليسرى العلوية
            const leftCorner = document.createElement('div');
            leftCorner.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                width: 200px;
                height: 60px;
                background: rgba(0, 0, 0, 0.01);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                pointer-events: auto;
                cursor: default;
            `;

            cornersOverlay.appendChild(rightCorner);
            cornersOverlay.appendChild(leftCorner);

            // إضافة جميع مربعات الحماية
            playerContainer.appendChild(topOverlay);
            playerContainer.appendChild(bottomOverlay);
            playerContainer.appendChild(cornersOverlay);

            // منع جميع أحداث الماوس على مربعات الحماية
            [topOverlay, bottomOverlay, rightCorner, leftCorner].forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                });

                overlay.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                });

                overlay.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                });
            });

            console.log('✅ تم إنشاء مربعات الحماية الشفافة');
        }

        // تحديث النصوص في مربع الحماية العلوي
        function updateOverlayTexts() {
            const playerContainer = document.getElementById('player');
            if (!playerContainer) return;

            const titleElement = playerContainer.querySelector('.video-overlay-title');
            const gradeElement = playerContainer.querySelector('.video-overlay-grade');

            if (titleElement && gradeElement && currentVideoIndex >= 0 && currentVideoIndex < videosList.length) {
                const currentVideo = videosList[currentVideoIndex];
                titleElement.textContent = currentVideo.title;
                gradeElement.textContent = currentVideo.grade;
            }
        }

        // مراقبة مستمرة لإعادة إنشاء مربعات الحماية
        function maintainProtectionOverlays() {
            const playerContainer = document.getElementById('player');
            if (!playerContainer) return;

            const overlays = playerContainer.querySelectorAll('.video-protection-overlay, .video-protection-overlay-bottom, .video-protection-corners');

            // إذا لم توجد مربعات الحماية، أنشئها
            if (overlays.length < 3) {
                createProtectionOverlays();
            } else {
                // تحديث النصوص إذا كانت المربعات موجودة
                updateOverlayTexts();
            }
        }

        // منع النقر على العناصر العلوية
        function preventTopClicks() {
            const iframe = document.querySelector('#player iframe');
            if (iframe) {
                iframe.addEventListener('load', function() {
                    try {
                        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                        if (iframeDoc) {
                            // منع النقر على الجزء العلوي من الفيديو
                            const topOverlay = iframeDoc.createElement('div');
                            topOverlay.style.cssText = `
                                position: absolute;
                                top: 0;
                                left: 0;
                                right: 0;
                                height: 80px;
                                z-index: 9999;
                                pointer-events: none;
                                background: transparent;
                            `;

                            // منع النقر على الجزء السفلي أيضاً
                            const bottomOverlay = iframeDoc.createElement('div');
                            bottomOverlay.style.cssText = `
                                position: absolute;
                                bottom: 0;
                                left: 0;
                                right: 0;
                                height: 80px;
                                z-index: 9999;
                                pointer-events: none;
                                background: transparent;
                            `;

                            const videoContainer = iframeDoc.querySelector('.html5-video-container');
                            if (videoContainer) {
                                videoContainer.appendChild(topOverlay);
                                videoContainer.appendChild(bottomOverlay);
                            }
                        }
                    } catch (error) {
                        console.log('🔒 لا يمكن إضافة overlay بسبب CORS');
                    }
                });
            }

            // إضافة overlay خارجي أيضاً
            const playerContainer = document.getElementById('player');
            if (playerContainer) {
                // إنشاء overlay للجزء العلوي
                const externalTopOverlay = document.createElement('div');
                externalTopOverlay.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 80px;
                    z-index: 9999;
                    pointer-events: none;
                    background: transparent;
                `;

                // إنشاء overlay للجزء السفلي
                const externalBottomOverlay = document.createElement('div');
                externalBottomOverlay.style.cssText = `
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    height: 80px;
                    z-index: 9999;
                    pointer-events: none;
                    background: transparent;
                `;

                playerContainer.style.position = 'relative';
                playerContainer.appendChild(externalTopOverlay);
                playerContainer.appendChild(externalBottomOverlay);
            }
        }

        // دالة لإزالة العناصر فور التحميل
        function forceRemoveElements() {
            // إزالة أي عنصر في الصفحة يحتوي على النصوص المحددة
            const allPageElements = document.querySelectorAll('*');
            allPageElements.forEach(element => {
                const text = element.textContent || element.innerText || '';
                const title = element.title || '';
                const ariaLabel = element.getAttribute('aria-label') || '';

                if (text.includes('Copy link') ||
                    text.includes('كورس الفيلسوف الجلسة الأولى') ||
                    text.includes('كورس') ||
                    text.includes('الجلسة') ||
                    title.includes('Copy link') ||
                    title.includes('كورس') ||
                    ariaLabel.includes('Copy link') ||
                    ariaLabel.includes('كورس')) {

                    element.style.display = 'none';
                    element.style.visibility = 'hidden';
                    element.style.opacity = '0';
                    element.style.pointerEvents = 'none';
                    element.remove();
                }
            });
        }

        // بدء التطبيق عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 بدء تحميل التطبيق...');

            // إزالة فورية للعناصر
            forceRemoveElements();

            loadYouTubeAPI();

            // منع النقر على العناصر العلوية
            setTimeout(preventTopClicks, 1000);

            // إنشاء مربعات الحماية فور التحميل
            setTimeout(createProtectionOverlays, 500);

            // تشغيل إزالة العناصر بشكل مستمر
            setInterval(forceRemoveElements, 100);

            // مراقبة مربعات الحماية
            setInterval(maintainProtectionOverlays, 100);
        });
    </script>
</body>
</html>
